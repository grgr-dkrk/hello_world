INCLUDE "hardware.inc"

SECTION "Header", ROM0[$100]
 	nop
	jp main
	ds $150 - @, 0

main:
	di
	ld a, 0
	ld [rNR52], a

WaitVBlank:
	ld a, [rLY]
	cp 144
	jp nz, WaitVBlank

	ld a, 0
	ld [rLCDC], a

	ld de, Tiles
	ld hl, $9000
	ld bc, TilesEnd - Tiles

CopyTiles:
	ld a, [de]
	ld [hli], a
	inc de
	dec bc
	ld a, b
	or a, c
	jp nz, CopyTiles

	; Copy the tilemap
	ld de, Tilemap
	ld hl, $9800
	ld bc, TilemapEnd - Tilemap

CopyTilemap:
	ld a, [de]
	ld [hli], a
	inc de
	dec bc
	ld a, b
	or a, c
	jp nz, CopyTilemap

	ld a, LCDCF_ON | LCDCF_BGON
	ld [rLCDC], a
	ld a, %11100100

	ld [rBGP], a

Done: 
	jp Done

SECTION "Tile data", ROM0

;実際は
Tiles:
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $66,$66,$66,$66,$66,$66,$7e,$7e
	db $66,$66,$66,$66,$66,$66,$66,$66
	db $7f,$7f,$60,$60,$60,$60,$7e,$7e
	db $60,$60,$60,$60,$60,$60,$7f,$7f
	db $60,$60,$60,$60,$60,$60,$60,$60
	db $60,$60,$60,$60,$60,$60,$7e,$7e
	db $7e,$7e,$c3,$c3,$c3,$c3,$c3,$c3
	db $c3,$c3,$c3,$c3,$c3,$c3,$7e,$7e
	db $83,$83,$83,$83,$b3,$b3,$b3,$b3
	db $b3,$b3,$b3,$b3,$b3,$b3,$fc,$fc
	db $7c,$7c,$62,$62,$62,$62,$7c,$7c
	db $66,$66,$66,$66,$66,$66,$66,$66
	db $7c,$7c,$66,$66,$62,$62,$62,$62
	db $62,$62,$62,$62,$66,$66,$7c,$7c
TilesEnd:

SECTION "Tilemap", ROM0

Tilemap:
	db $01,$02,$03,$03,$04,$00,$05,$04,$06,$03,
	db $07,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
TilemapEnd:
